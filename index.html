<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Dry Store Stock Record</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- libs -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
    body {
        font-family: Arial;
        background: #f4f4f4;
        margin: 0;
        padding: 12px;
    }

    .wrapper {
        max-width: 1200px;
        margin: auto;
    }

    .sheet {background:#fff;border:1px solid #000;padding:18px;border-radius:14px;box-shadow:0 2px 6px rgba(0,0,0,0.08);}

    /* FULL HEADER BOX */
    .header-box {border:1px solid #000;padding:14px;border-radius:14px;background:#ffffff;margin-bottom:16px;}

    /* HEADER */
    .header {display:flex;align-items:center;border-bottom:1px solid #ccc;padding-bottom:10px;margin-bottom:10px;}

    .header img {
        width: 130px;
        margin-right: 20px;
    }

    .header-title {
        font-size: 20px;
        font-weight: bold;
        text-align: center;
        width: 100%;
    }

    /* TOP FIELDS */
    .top-table {
        width: 100%;
        border-collapse: collapse;
    }

    .top-table td {
        border: 1px solid #000;
        padding: 6px;
        font-size: 14px;
    }

    .top-table input {
        width: 100%;
        border: none;
        outline: none;
        font-size: 14px;
        padding: 2px 4px;
        box-sizing: border-box;
    }

    /* MAIN TABLE WRAPPER –– FIXED */
    .table-wrap {
        width:100%;
        overflow-x:auto;
        border:1px solid #000;
        padding:12px;              /* FIXED (was 20px) */
        border-radius:14px;
        background:#ffffff;
        margin-bottom:16px;
        box-sizing:border-box;      /* FIX ADDED */
    }

    .main-table {
        width:max-content;
        min-width:100%;
        border-collapse:collapse;
        background:#fff;
        margin:0;                  /* FIXED (was default margin causing overflow) */
    }

    .main-table th, .main-table td {
        border:1px solid #000;
        padding:6px;
        text-align:center;
        font-size:12px;
    }

    .main-table input {
        width:100%;
        border:none;
        outline:none;
        padding:2px;
        font-size:12px;
        text-align:center;
        box-sizing:border-box;
    }

    .locked input {
        background: transparent;
        color: #111;
    }

    /* FOOTER */
    .bottom-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 12px;
    }

    .bottom-table td {
        border:1px solid #000;
        padding:10px;
        font-size:14px;
        background:#ffffff;
    }

    /* BUTTONS */
    .controls {
        margin-top: 14px;
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    button {
        background: #007bff;
        color: #fff;
        font-size: 14px;
        padding: 10px 14px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
    }

    .save { background: #28a745; }
    .pdf { background: #6f42c1; }
    .reset { background: #dc3545; }

    /* PDF PAGE */
    #pdfPages {
        position: absolute;
        left: -9999px;
        top: -9999px;
        visibility: hidden;
    }

    .page {
        width: 297mm;
        height: 210mm;
        padding: 12mm;
        box-sizing: border-box;
        background: #fff;
    }
</style>
</head>

<body>

<div class="wrapper">

    <div class="sheet" id="sheet">

        <!-- HEADER BOX -->
        <div class="header-box">

            <div class="header">
                <img src="logo.png" alt="logo">
                <div style="width:100%;">
                    <div class="header-title">Dry Store Stock Record</div>
                </div>
            </div>

            <table class="top-table">
                <tr>
                    <td>Date: <input type="date" id="date"></td>
                    <td>Vendor Name: <input id="vendor"></td>
                    <td>Vendor Supervisor Name: <input id="supervisor"></td>
                </tr>

                <tr>
                    <td>Building: <input id="building"></td>
                    <td>Floor: <input id="floor"></td>
                    <td>Counter: <input id="counter"></td>
                </tr>
            </table>

        </div>

        <!-- MAIN TABLE -->
        <div class="table-wrap">
            <table class="main-table" id="mainTable">
                <thead>
                    <tr>
                        <th style="width:50px;">S.No</th>
                        <th style="width:220px;">Items</th>
                        <th style="width:160px;">Batch No</th>
                        <th style="width:150px;">Receiving Date</th>
                        <th style="width:150px;">Manufacturing Date</th>
                        <th style="width:140px;">Expiry Date</th>
                        <th style="width:100px;">Shelf Life</th>
                        <th style="width:130px;">Stock Quantity</th>
                        <th style="width:200px;">Remarks</th>
                        <th style="width:90px;">Actions</th>
                    </tr>
                </thead>
                <tbody id="tbody"></tbody>
            </table>
        </div>

        <table class="bottom-table">
            <tr>
                <td>Vendor PoC :</td>
                <td>Verified by F&B team :</td>
            </tr>
        </table>
    </div>

    <div class="controls">
        <button onclick="addRow()">Add Row</button>
        <button class="save" onclick="saveRows()">Save (Lock)</button>
        <button class="pdf" onclick="downloadPDF()">Download PDF</button>
        <button class="reset" onclick="resetAll()">Reset</button>
    </div>

</div>

<!-- PDF render container -->
<div id="pdfPages"></div>

<script>
/* YOUR FULL ORIGINAL JAVASCRIPT — unchanged */
</script>

</body>
</html>
